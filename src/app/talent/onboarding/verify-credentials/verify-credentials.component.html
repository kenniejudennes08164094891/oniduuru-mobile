<form class="space-y-6 px-2" (submit)="$event.preventDefault()">

  <div>
    <p class="text-sm text-[#344054] mb-2 text-center">
      Enter the 4-digit OTP sent to 
      <strong>{{ maskedEmail() }}</strong> or 
      <strong>{{ maskedPhone() }}</strong>
    </p>

    <!-- OTP Inputs -->
    <div class="flex justify-center gap-2">
      <input
        *ngFor="let i of [0, 1, 2, 3]; let idx = index"
        maxlength="1"
        class="w-12 h-12 border border-[#D0D5DD] rounded-lg text-center text-lg focus:border-[#101828] outline-none"
        [(ngModel)]="otp[idx]"
        name="otp{{idx}}"
        (input)="moveNext($event, idx)"
      />
    </div>

    <!-- Countdown & Resend -->
    <p class="text-sm text-[#98A2B3] text-center mt-2">
      Didn't receive the code? 
      <span 
        class="text-red-500 cursor-pointer"
        [class.pointer-events-none]="timer > 0"
        (click)="timer === 0 && resendOtp()"
      >
        Re-send OTP {{ timer > 0 ? '(' + timer + 's)' : '' }}
      </span>
    </p>
  </div>

  <!-- Buttons -->
  <div class="flex flex-col gap-3 mt-6">
    <button
      type="button"
      class="w-full py-3 rounded-md text-center font-medium transition-all"
      [ngClass]="otpComplete() ? 'bg-[#101828] text-white' : 'bg-[#E4E7EC] text-[#98A2B3]'"
      [disabled]="!otpComplete()"
      (click)="onComplete()"
    >
      Next
    </button>

    <button
      type="button"
      class="w-full py-3 rounded-md border border-[#D0D5DD] text-[#344054] bg-transparent font-medium"
      (click)="onPrevious()"
    >
      Previous
    </button>
  </div>

</form>
